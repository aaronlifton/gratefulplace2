<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="stylesheet" href="styles/main.css">
  </head>
  <body ng-app="gratefulplaceApp" ng-controller="FoundationCtrl">
    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->

    <!--[if lt IE 9]>
      <script src="components/es5-shim/es5-shim.js"></script>
      <script src="components/json3/lib/json3.min.js"></script>
    <![endif]-->

    <!-- Add your site or application content here -->
    <div class="container">
      <nav>
        <ul>
          <li><a href="#"
                 ng-show="currentSession"
                 ng-click="toggleNewTopicForm($event)">New Topic</a></li>
          <li><a href="#" ng-show="currentSession">Notifications</a></li>
          <li><a href="#" ng-show="currentSession">Friend Activity</a></li>
          <li><a href="#" ng-show="currentSession">Your Account</a></li>
          <li><a href="#"
                 ng-click="logout()"
                 ng-show="currentSession">Log Out</a></li>
          <li><a href="#/login" ng-hide="currentSession">Log In / Register</a></li>
        </ul>
      </nav>
      <div id="main">
        <div id="new-topic" ng-controller="NewTopicCtrl" ng-show="showNewTopicForm">
          <h3>New Topic</h3>
          <form ng-submit="submitNewTopic()">
            <table class="input">
              <tbody>
                <tr>
                  <td>
                    <label for="new-topic-title">Title (optional)</label>
                  </td>
                  <td>
                    <input value=""
                           type="text"
                           name="new-topic-title"
                           id="new-topic-title"
                           ng-model="newTopic.title"/>
                    <div class="error" error-messages="newTopicErrors.title"></div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div>
              <textarea
                 name="new-topic-content"
                 id="new-topic-content"
                 ng-model="newTopic.content"
                 required></textarea>
              <div class="error" error-messages="newTopicErrors.content"></div>
            </div>
            <input type="submit" value="Create Topic" />
          </form>
        </div>
        <div ng-view>
        </div>
      </div>
      <div id="more">
        <div ng-show="currentSession">
          Welcome, {{currentSession.username}}
        </div>
        <div id="peek" ng-controller="PeekCtrl" ng-show="peek">
          <div class="user">
            <div class="username">{{peek.username}}</div>
            <div class="about">{{peek.about}}</div>
          </div>
          <div class="recent-posts">
            <h3>Recent Posts</h3>
            <div class="post" ng-repeat="post in peek.recent_posts">
              <div class="date">{{post.date}}</div>
              <div class="content" ng-bind-html-unsafe="post.content">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="components/angular/angular.js"></script>
    <script src="components/angular-resource/angular-resource.js"></script>
    <script src="components/angular-cookies/angular-cookies.js"></script>
    <script src="components/angular-sanitize/angular-sanitize.js"></script>
    <script src="components/underscore/underscore-min.js"></script>
    
    <!-- build:js(.tmp) scripts/scripts.js -->
    <script src="scripts/init.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/load_session.js"></script>
    <script src="scripts/controllers/foundation.js"></script>
    <script src="scripts/controllers/peek.js"></script>
    <script src="scripts/controllers/topic.js"></script>
    <script src="scripts/controllers/new-topic.js"></script>
    <script src="scripts/controllers/topics.js"></script>
    <script src="scripts/controllers/login.js"></script>
    <script src="scripts/controllers/register.js"></script>
    <script src="scripts/services/current_session.js"></script>
    <script src="scripts/services/peek.js"></script>
    <script src="scripts/services/topic.js"></script>
    <script src="scripts/services/users.js"></script>
    <script src="scripts/controllers/main.js"></script>
    <script src="scripts/directives/error-messages.js"></script>
    <!-- endbuild -->
  </body>
</html>
